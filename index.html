<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Board Election 2025 - Brampton Church</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #020617;
            color: #e2e8f0;
            -webkit-tap-highlight-color: transparent;
        }

        .step-container {
            display: none;
        }

        .step-container.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .candidate-card.selected {
            border-color: #6366f1;
            background-color: rgba(99, 102, 241, 0.08);
            box-shadow: 0 10px 25px -5px rgba(99, 102, 241, 0.2);
        }

        .custom-transition {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .loader {
            border: 2px solid #ffffff33;
            border-top: 2px solid #fff;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .bio-content p {
            margin-bottom: 1rem;
        }

        .bio-content ul {
            margin-bottom: 1rem;
            list-style-type: disc;
            padding-left: 1.25rem;
        }

        .bio-content li {
            margin-bottom: 0.25rem;
        }

        @media (max-width: 480px) { .bio-content { width: 100% !important; max-width: 100% !important; } }
    </style>
</head>

<body class="min-h-screen p-4 md:p-8 flex flex-col items-center no-scrollbar">

    <!-- Toast Notification -->
    <div id="toast"
        class="fixed top-6 left-1/2 -translate-x-1/2 z-50 transition-all duration-300 transform -translate-y-20 opacity-0 pointer-events-none">
        <div
            class="bg-indigo-600 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-2 font-bold text-sm">
            <i data-lucide="info" class="w-4 h-4"></i>
            <span id="toast-message"></span>
        </div>
    </div>

    <!-- Header -->
    <header class="w-full max-w-3xl text-center mb-10 mt-6">
        <div class="flex justify-center mb-4">
            <div
                class="bg-gradient-to-br from-indigo-500 to-indigo-700 p-4 rounded-[1.75rem] text-white shadow-2xl shadow-indigo-600/20">
                <i data-lucide="vote" class="w-8 h-8"></i>
            </div>
        </div>
        <h1 class="text-3xl md:text-4xl font-black text-white mb-2 tracking-tight">Board Election 2025</h1>
        <p class="text-indigo-400 font-bold text-[10px] md:text-xs uppercase tracking-[0.2em] px-4 text-balance">
            Church of God Sabbath-Keeping Ministries Brampton
        </p>
    </header>

    <main
        class="w-full max-w-3xl bg-slate-900/40 backdrop-blur-2xl rounded-[2.5rem] shadow-2xl border border-white/5 overflow-hidden mb-12 relative">

        <!-- STEP: WELCOME -->
        <section id="step-welcome" class="step-container active p-8 md:p-14 text-center">
            <div
                class="mb-8 inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-indigo-500/10 text-indigo-300 text-[10px] font-black uppercase tracking-widest border border-indigo-500/20">
                <i data-lucide="calendar" class="w-3 h-3"></i> 2025-2027 Term
            </div>
            <h2 class="text-2xl md:text-3xl font-extrabold mb-4 text-white">Nominee Review & Voting</h2>
            <p class="text-slate-400 mb-10 leading-relaxed text-base md:text-lg max-w-lg mx-auto">
                Select <strong class="text-indigo-400">three (3)</strong> members who will serve on our Board of
                Directors for the upcoming term.
            </p>
            <div class="space-y-4 max-w-sm mx-auto">
                <button onclick="navigateTo('vote')"
                    class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-5 rounded-2xl transition-all shadow-xl shadow-indigo-600/20 text-lg flex items-center justify-center gap-2 group active:scale-[0.98]">
                    Proceed to Ballot
                    <i data-lucide="arrow-right" class="w-5 h-5 group-hover:translate-x-1 transition-transform"></i>
                </button>
                <button onclick="navigateTo('admin')"
                    class="w-full py-4 text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-indigo-400 transition-colors flex items-center justify-center gap-2">
                    <i data-lucide="lock" class="w-3 h-3"></i> Administrator Portal
                </button>
            </div>
        </section>

        <!-- STEP: VOTE -->
        <section id="step-vote" class="step-container p-4 md:p-10">
            <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-8 gap-4 px-2">
                <div>
                    <h2 class="text-2xl font-black text-white">Nominees</h2>
                    <p class="text-slate-500 text-xs font-medium">Select 3 for your final ballot</p>
                </div>
                <div id="selection-counter"
                    class="inline-flex px-4 py-2 rounded-xl text-xs font-black bg-indigo-500/10 text-indigo-300 border border-indigo-500/20 shadow-sm uppercase tracking-wider">
                    0 / 3 Selected
                </div>
            </div>

            <div id="candidates-list" class="space-y-4 mb-8">
                <!-- Injected via JavaScript -->
            </div>

            <div
                class="flex flex-col md:flex-row gap-4 p-2 bg-slate-950/80 backdrop-blur-xl rounded-3xl border border-white/10 sticky bottom-4 z-20 shadow-2xl">
                <button onclick="navigateTo('welcome')"
                    class="order-2 md:order-1 px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest text-slate-500 hover:text-slate-300 transition-all">
                    Back
                </button>
                <button id="submit-btn" disabled onclick="handleVoteSubmission()"
                    class="order-1 md:order-2 flex-1 py-4 rounded-2xl font-black text-sm uppercase tracking-widest text-white transition-all border bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed opacity-50 flex items-center justify-center gap-2">
                    <span>Select 3 More Nominees</span>
                </button>
            </div>
        </section>

        <!-- STEP: SUCCESS -->
        <section id="step-success" class="step-container p-14 text-center">
            <div
                class="w-24 h-24 bg-emerald-500/10 text-emerald-400 rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-inner border border-emerald-500/20">
                <i data-lucide="shield-check" class="w-14 h-14"></i>
            </div>
            <h2 class="text-3xl font-black mb-4 text-white">Ballot Confirmed</h2>
            <p class="text-slate-400 mb-10 text-lg leading-relaxed max-w-md mx-auto">
                Thank you for participating in the 2025 Board Election. Your voice helps shape our ministry.
            </p>
            <button onclick="window.location.reload()"
                class="bg-indigo-600 hover:bg-indigo-500 text-white font-black py-4 px-12 rounded-2xl transition-all shadow-xl shadow-indigo-600/20 uppercase text-xs tracking-widest">
                Return Home
            </button>
        </section>

        <!-- STEP: ADMIN -->
        <section id="step-admin" class="step-container p-8 md:p-12">
            <div id="admin-login-view">
                <div class="flex justify-between items-center mb-12">
                    <button onclick="navigateTo('welcome')"
                        class="flex items-center gap-2 text-slate-500 hover:text-indigo-400 font-bold transition-all group">
                        <i data-lucide="chevron-left"
                            class="w-5 h-5 group-hover:-translate-x-1 transition-transform"></i> Back
                    </button>
                </div>
                <div class="max-w-xs mx-auto text-center">
                    <div
                        class="w-16 h-16 bg-slate-800 rounded-3xl flex items-center justify-center mx-auto mb-6 text-slate-400">
                        <i data-lucide="lock" class="w-8 h-8"></i>
                    </div>
                    <h2 class="text-2xl font-black text-white mb-2">Authority Key</h2>
                    <p class="text-slate-500 mb-8 text-sm">Review real-time election analytics</p>
                    <input type="password" id="admin-pass" placeholder="••••••••"
                        class="w-full p-5 bg-slate-950 border-2 border-slate-800 rounded-2xl mb-6 text-center text-2xl font-mono tracking-widest text-white focus:border-indigo-500 focus:bg-slate-900 outline-none transition-all shadow-inner">
                    <button onclick="verifyAdmin()"
                        class="w-full bg-indigo-600 text-white py-4 rounded-2xl font-black hover:bg-indigo-500 transition-all shadow-xl shadow-indigo-600/20 text-xs tracking-widest uppercase">
                        Verify Access
                    </button>
                </div>
            </div>

            <div id="admin-results-view" class="hidden">
                <div class="flex justify-between items-end mb-10 border-b border-slate-800 pb-8">
                    <div>
                        <h2 class="text-2xl font-black text-white">Live Results</h2>
                        <p id="total-ballots" class="text-indigo-400 text-xs font-black uppercase tracking-widest mt-1">
                            0 Total Selections</p>
                    </div>
                    <button onclick="window.location.reload()"
                        class="flex items-center gap-2 text-red-400 font-black text-[10px] uppercase tracking-widest hover:bg-red-500/10 px-4 py-2 rounded-xl transition-colors">
                        <i data-lucide="log-out" class="w-4 h-4"></i> Logout
                    </button>
                </div>

                <div id="results-list" class="space-y-4 mb-12">
                    <!-- Results Injected via JS -->
                </div>

                <div class="pt-8 border-t border-slate-800">
                    <div class="bg-red-500/5 p-8 rounded-[2rem] border border-red-500/10 text-center">
                        <div
                            class="flex items-center justify-center gap-3 text-red-500 font-black text-xs uppercase tracking-widest mb-2">
                            <i data-lucide="alert-triangle" class="w-4 h-4"></i> Danger Zone
                        </div>
                        <p class="text-red-400/60 text-sm mb-6">Clearing data is permanent.</p>
                        <button onclick="clearAllData()"
                            class="w-full py-4 text-red-500 font-black text-[10px] uppercase tracking-widest bg-slate-950 border border-red-500/20 hover:bg-red-500 hover:text-white rounded-2xl transition-all">
                            Purge All Vote Records
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <footer class="py-10 border-t border-slate-800/50 text-center flex flex-col items-center">
            <div class="flex gap-4 mb-4 text-slate-700">
                <i data-lucide="heart" size="16"></i>
                <i data-lucide="book-open" size="16"></i>
                <i data-lucide="anchor" size="16"></i>
            </div>
            <p class="text-slate-500 text-sm font-semibold">&copy; 2025 Brampton Sabbath Keeping Ministries</p>
            <p class="mt-1 text-slate-600 text-xs italic tracking-wide">Grace, Truth, and Community.</p>
            <p class="mt-1 text-slate-600 text-xs italic tracking-wide">Matt Robinson</p>
        </footer>
    </main>

    <script>
        // --- Supabase Config ---
        const SUPABASE_URL = "https://pepmwxhxwfewikmufhgf.supabase.co";
        const SUPABASE_ANON_KEY = "sb_publishable_gwTXp_mxdYwi1F0kzvM7_A_PkypbDFd";
        const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        const TABLE_NAME = "votes";
        const COLUMN_NAME = "candidate_id";
        const ADMIN_KEY = "CHURCH2025";

        const CANDIDATES = [
            {
                id: "rose-andrew",
                name: "Andrew Rose",
                image: "Images/Rose.jpeg",
                bio: `<p>My name is Andrew Rose I enjoy reading, which helps me to grow spiritually and intellectually. I am passionate about sports especially track and field and soccer. I enjoy spending quality time with my family. I have been married for more than thirty years to my beautiful wife Brenda Rose and am a proud father of six children Quenton, Andrew Jr, Elijah, Jadon, Jalon and Ebony and my granddaughter Kehlani. My family has supported every step of my ministry journey, and I work every day to live a life of faith and integrity always seeking to contribute positively to those that are around me. It is important to me that my faith is seen not only in my words but in the way I live, and I hope my actions consistently honor God.</p>
                <p>For twenty-five years I have been baptized in the 7th day church of God. I have had the privilege to be part of the Brampton Sabbath Keeping Ministries over the past 6 years. This church has been my home, my support, and the place where I have grown in my faith. Serving in different roles over the years has been one of the greatest honours of my life, and every opportunity has only strengthened my commitment to this ministry and the people in it.</p>
                <p>I currently serve as the Men’s Vice President, and this work has been deeply meaningful to me. I have seen how powerful it is when men support each other, grow spiritually, and take responsibility in their homes and in the church. Walking alongside them has strengthened my own faith and reminded me how important steady, dependable leadership is in our community.</p>
                <p>My passion for youth development is evident as a Sabbath School Teacher, where I guide teens ages 13 to 17 with patience, understanding, and strong biblical principles.</p>
                <p>I am also thankful to be part of our Prison Ministry. Spending time with individuals who are searching for direction has shown me how much hope can mean to a person. Sharing God’s message with them has deepened my appreciation for grace and second chances. It has reminded me that every life has value, and that encouragement can reach people in ways we do not always see.</p>
                <p>Other roles include the Leader of the fundraising team where we seek opportunities to raise funds for the church and strategic planning. I am a part of the audit team where we ensure that compliance is met with the financial obligations of the church.</p>
                <p>My career working in the financial sector over 20 years has also helps me to understand money management. I worked as a credit advisor and currently as a business advisor which has allow me to review business financials to evaluate and analyze strength and weakness of small business credit worthiness. My professional experience has deepened my understanding of money management, strategic planning, and financial integrity. I adhere strictly to the code of conduct that governs confidentiality and trust, principles that align closely with my approach to ministry and leadership.</p>
                <p>I am now putting myself forward to serve as a board member because I care deeply about the direction of our church and the well-being of our congregation. I want to continue giving my time, my experience, and my full commitment to the growth and unity of this ministry. I believe I can contribute in a meaningful and responsible way, and I would be honored to serve in this capacity.</p>`
            },
            {
                id: "nichol-obrian",
                name: "O’Brian W. Nichol",
                image: "Images/OB.jpeg",
                bio: `<p>I was born in North York, Ontario, and raised by my parents, Deacon Edward Nichol and Sister Janet Nichol. From an early age, church has been a central part of my life, and most of my formative years in the faith were spent in Toronto.</p>
                <p>Music became part of my life very early. I began studying piano at the age of five at the Royal Conservatory of Music, and after leaving the school, I continued to teach myself and explore other styles and genres. Through the church, I was blessed with the opportunity to learn how to play the organ, as well as hymns and choruses, under the guidance of Pastor W. B. Treleven. Those early teachings helped shape both my musical foundation and my spiritual growth.</p>
                <p>As I served in my local church, I entered a season of learning, creativity, and personal soul-searching. About a decade later, when our headquarters church merged with our local branch, it marked a turning point in my life and ministry. During that time, God placed a clear idea on my heart—to create an Audio/Visual Ministry for our organization. That ministry began with six dedicated individuals, one of whom, Brother Junior D. James, has since passed on. His contribution and memory remain meaningful to me.</p>
                <p>At the time, I was studying Broadcast Television and Audio Production at Seneca College at York, and my passion was to use media and technology to help spread the gospel beyond the walls of the church. I believed then—and still believe now—that what we have as a church is special and worth sharing with the world.</p>
                <p>Seventeen years ago, I was given the opportunity to assist the Brampton branch for what was meant to be a six-month commitment to support the music department. However, God had a different plan. I received a clear direction to remain in Brampton, to serve alongside Pastor Duff and the brethren, and to help build the church there. That decision became one of the most meaningful steps of my life.</p>
                <p>During my years at the Church of God Sabbath Keeping Ministries in Brampton, I have been blessed to help design and build our current church facility and to fully use the gifts God has given me in audio/visual production, music development, and media ministry. I currently serve as the Head of the Audio/Visual Department and also help oversee our music and social media ministries.</p>
                <p>Outside of church, I have spent approximately 15 years in the film and television industry, working on various productions, television shows, and films across Ontario and Canada. These experiences have further strengthened my ability to serve the church with excellence and professionalism.</p>
                <p>I have been part of the Church of God Sabbath Keeping Organization for over 30 years, with 17 of those years spent in the Brampton congregation. I truly believe that God is not finished with me yet, and that I still have more to give. As long as God grants me life and strength, my desire is to continue serving faithfully and to help guide our church into its next chapter.</p>`
            },
            {
                id: "thomas-ann-marie",
                name: "Ann-Marie Thomas",
                image: "Images/Anne.jpeg",
                bio: `<p>Ann-Marie Thomas is a Certified Human Resources Professional (CHRP) with academic training in Business Administration and Industrial and Organizational Psychology. Known for her structured and solutions-focused approach, she brings clarity and purpose to every assignment. She is a dedicated servant-leader, having devoted more than 25 years supporting ministries and sub-committees within the Jamaica Council Church of God 7th Day. She’s also a board member of the Across Boundaries Scholarship Fund.</p>
                <p>Ann-Marie is a committed kingdom worker who serves faithfully. She is an active member of the Praise Team ministry and provides support to the Finance Department.</p>
                <p>Her leadership has enriched youth ministries, worship & choir departments, administrative functions, and local and national planning initiatives. She is known for her strong organizational insight, and ability to build unity, purpose, and collaboration among teams.</p>
                <p>Some of her past leadership and ministry responsibilities are:</p>
                <ul>
                    <li>Local Church Board Member - Supported pastors and ministry leaders by helping to build Christ-centered practices, and long-term ministry planning. Also developed programs that strengthened church culture and expand community impact.</li>
                    <li>Local Church Administrator - Provided leadership in administrative operations, ministry staffing, and conflict resolution.</li>
                    <li>Assistant Treasurer - The Jamaica Council COG 7th Day</li>
                    <li>YPE Treasurer - Local Youth Department</li>
                    <li>Assistant YPE President - Local Youth Department</li>
                    <li>Children, Youth, and Adult Choir Director</li>
                </ul>
                <p>Sub committees:</p>
                <ul>
                    <li>National Convention Committees</li>
                    <li>Homecoming Committee</li>
                    <li>Various Youth department & Jamaica Council COG 7th Day planning committees.</li>
                </ul>
                <p>Ann-Marie is deeply committed to the belief that her purpose is rooted in serving people, strengthening the church, and contributing to the well-being of her community. Her unwavering commitment to service continues to shape her mission and devotion to God’s work.</p>`
            },
            {
                id: "clarke-ronjay",
                name: "Ronjay Clarke",
                image: "Images/Ronjay.jpeg",
                bio: `<p>Ronjay Clarke is a dedicated and results-oriented professional with experience in leadership, operations management, and community engagement. With years of service in music ministry, he has consistently demonstrated a commitment to creating worship experiences that inspire and uplift congregations. His passion for ministry is complemented by a proven record in organizational leadership and strategic planning.</p>
                <p>Ronjay has faithfully served in music ministry as a musician and mentor, nurturing emerging talent and fostering an atmosphere of excellence and spiritual growth. His contributions extend beyond worship services to outreach initiatives that strengthen fellowship and promote inclusivity, ensuring worship remains accessible and meaningful for all.</p>
                <p>Ronjay currently oversees complex operational functions, ensuring safe, reliable, and customer-focused service delivery. His responsibilities include managing day-to-day activities, resolving multifaceted challenges, and leveraging expertise in operations management, technology integration, and workflow optimization. Previously, he directed contract compliance reporting, performance audits, and technology oversight, roles that strengthened his problem-solving skills and reinforced his commitment to operational excellence.</p>
                <p>Ronjay holds an academic background in Business Administration with a concentration in Business Management and Leadership. He has earned certifications in Accessibility Standards and Planning for Sustainable Communities, reflecting his dedication to continuous learning and professional growth.</p>
                <p>Ronjay brings strong leadership and decision-making capabilities, complemented by effective communication and team collaboration skills. He is proficient in workflow automation and technology integration, driving efficiency and innovation. His ethical approach and community-oriented mindset ensure that services meet the needs of diverse populations, making him a valuable asset in any organizational setting.</p>
                <p>Ronjay’s vision is to leverage his experience and ministry background to strengthen governance, enhance community engagement, and support initiatives that promote spiritual growth and operational excellence. His adaptability, innovative mindset, and integrity position him as a strategic contributor.</p>`
            },
            {
                id: "butler-leroy",
                name: "Leroy Butler",
                image: "Images/Lee.jpeg",
                bio: `<p>Leroy Augustus Butler is a Tech Innovator, Trusted Leader, and Purpose-Driven Servant of God who is married to his talented and beautiful wife Wendy for over 10 years. Leroy is a proud father of five (four girls and one boy). He leads his family with the steady example of a devoted husband and father, grounded in faith and service. Raised in the church and baptized at the young age of 18, Leroy lets his core values guide every decision. From family to ministry to business to community.</p>
                <p>A lifelong passion for engineering and problem-solving fuels Leroy’s career. He is a certified major appliance technician, registered with the Canadian University of Electronic and Appliance Associations, and holds a diploma from George Brown College. He also received his certification of qualifications through the Ontario Ministry of training Colleges and Universities. This solid technical foundation underpins a successful, two-decade-long career in business ownership, during which he has partnered with industry giants such as Whirlpool, LG, Samsung, and Frigidaire. His Christian work ethic, integrity, and strategic vision have driven growth, reliability, and measurable results for countless clients and projects. Including his home church, the Church of God Sabbath Keeping-Ministries in Brampton. Where he managed the renovation project which he earned the nickname "I know a guy".</p>
                <p>Currently Leroy is enrolled in the Ministers In Training (MIT) program. His bridge to opportunity, translating faith, mentorship, and real-world experience into practical guidance for others. Through his faith-driven leadership and hands-on expertise, he has rubbed shoulders with high achievers and learned what it takes to win which are lessons he now shares to empower those around him.</p>
                <p>As Facility Manager of the Brampton Church of God Sabbath-Keeping Ministries for the past ten years and a key leader within Men’s Ministries for three years, Leroy is dedicated to maintaining a top-tier facility, elevating ministry outreach, and empowering men (both young and old) to lead with purpose. His vision for Sabbath Keeping Ministries is to move the organization to the next level by expanding impact, enhancing resources, and strengthening the community it serves.</p>
                <p>Beyond work and ministry, Leroy is a passionate lover of family time, people's person, an excellent cook, and a devotee of music, especially jazz music. He treats every person who crosses his path with respect and generosity, ensuring they leave better than they arrived. Known as the “I know a guy” in his circle, his network is a powerful resource for practical solutions, expert guidance, and connections to the right people when they’re needed.</p>
                <p>His core strengths include leadership, decision-making and stewardship demonstrated through effective facility management and men’s ministry, technical excellence as a certified appliance technician with hands-on engineering expertise, and business acumen built over thirty-five (35) years of entrepreneurship and partnerships with major brands. His faith-driven resilience informs every decision, blending values with a service-oriented mindset, and his rich network serves as a trusted resource that unlocks opportunities for others.</p>
                <p>Leroy is the person to choose for the church board, as his down-to-earth personality and leadership, sound decision-making, and clear commitment to our mission position him to guide our church with integrity and impact. He understands our needs, communicates with transparency, and inspires confidence in collaborative, faith-led progress. Vote Leroy for steady, principled leadership rooted in love for our church and its mission that will move our church forward.</p>`
            },
            {
                id: "scott-antonette",
                name: "Antonette Whitley-Scott",
                image: "Images/Antonette.jpeg",
                bio: `<p>Antonette Whitley-Scott is a devoted servant of God whose Christian walk spans more than two decades of steadfast commitment, spiritual maturity, and exemplary leadership within the Church of God. Saved since 1998, she began her journey in the Church of God (Seventh Day) Jamaica Conference, where she quickly became known for her integrity, discipline, and unwavering dedication to the ministry.</p>
                <p>During her years in Jamaica, Antonette served on numerous committees and in multiple leadership capacities. Her ministry portfolio includes roles such as Sabbath School Teacher, long-standing President of the Faithful Youth Challenger Department for over 15 years, Quiz Team member and coach, Fundraising Committee member, Sabbath School Superintendent, and active member of the National All-Island Concert Committee. She has also been a committed member of Evangelism and Outreach Ministries, contributing her voice, skills, and leadership to spreading the gospel and strengthening community engagement. Over the years, Antonette has hosted numerous church programs, concerts, youth events, and special services—demonstrating her skill in public communication, program coordination, and ministry leadership.</p>
                <p>In 2023, Antonette migrated to Canada and immediately immersed herself in the work of the church. She continues to serve diligently in several departments including the Thanksgiving Committee, Audit Committee, Evangelism Committee, Social Media Committee, and as a Sabbath School Teacher. Her active involvement reflects her readiness to serve, her deep-rooted commitment to the mission of Christ, and her willingness to contribute wherever the body has need.</p>
                <p>Academically, Antonette is well accomplished and highly equipped for ministry leadership. She holds a Master’s degree in Communication from the University of the West Indies and a Bachelor of Arts in Language and Communication from the same institution. Her professional and academic background has strengthened her abilities in strategic planning, organization, communication, conflict resolution, and leadership—skills that are invaluable to church administration and governance. Antonette is the devoted wife of Dalton Scott for the past 17 years and the proud mother of Soprano-Shaye Scott. Her family life is anchored in strong Christian values, mutual support, and spiritual devotion—further reflecting her character and suitability for leadership.</p>
                <p>With her wealth of ministry experience, proven leadership, heart for outreach and evangelism, and longstanding commitment to the work of God, Antonette Whitley-Scott is a strong, capable, and spiritually grounded candidate for the Church Board. She brings a balanced blend of administrative skill, spiritual insight, and a genuine passion for the growth and development of the church.</p>`
            },
            {
                id: "ricketts-chase",
                name: "Evangelist Chase Ricketts",
                image: "Images/Chase.jpeg",
                bio: `<p>Evangelist Chase Ricketts loves the Lord and the Church of God. He gave his life to the Lord over 27 years ago in the Church of God 7th Day, Jamaica Conference; he continues to serve the Lord and his fellow men faithfully through the grace of God as an Evangelist in the Church of God Sabbath-Keeping Ministries Brampton.</p>
                <p>Chase loves the Word of God and has demonstrated an unwavering commitment to the studying, living and teaching of the word of God. He also has a passion for souls, and a resolve for the service of the Lord Jesus Christ to practice discipleship and to lead others into the Kingdom of God. He holds firmly to the truth of scripture and acknowledges that “heart work is God’s work” in the vineyard of the Lord.</p>
                <p>Chase currently holds a Bachelor’s degree with Honors in Psychology (Cum Laude) from York University, and certificates in Management and Client Services. He has been married to the beautiful Melonie Ricketts for over 16 years and their union has produced 4 fabulous children.</p>
                <p>His service in the Church of God 7th Day Jamaica Conference includes:</p>
                <ul>
                    <li>Deputy Director – Faithful Youth Challengers (FYC) National Youth Board</li>
                    <li>Director - Faithful Youth Challengers (FYC) National Youth Summer Camp/Retreat</li>
                    <li>Director - Faithful Youth Challengers (FYC) department in local church (Spring Village)</li>
                    <li>Sabbath school teacher – Adult, Youth and Children’s Classes</li>
                </ul>
                <p>His Professional Career in Jamaica:</p>
                <p>He served for 10 years up to the rank of Corporal of Police and to the position of Manager of Administration in the Jamaica Constabulary Force (JCF) at Sangster's International Airport, Montego Bay, the Office of The Commissioner of Police, and Police Transport Division. During his stint he received multiple commendations for his work in investigations, administrations, development of operational intelligence, reforms, and modernization within the JCF. He was honorably discharged and he migrated to Canada due to family commitments.</p>
                <p>His service in the Church of God Sabbath-Keeping Canada includes:</p>
                <ul>
                    <li>Service as an Evangelist for over 12 years</li>
                    <li>Leader of The Evangelism Team</li>
                    <li>Teacher of Tuesday Night Bible Study</li>
                    <li>Teacher of Sabbath School - Adult Class</li>
                    <li>Teacher - Post-baptismal/Discipleship class</li>
                    <li>Coordinator of “Friends and Family Sabbath”</li>
                    <li>Leader of “Beyond The Card” – Visitors contact card</li>
                    <li>Received Raise the Praise Innovative Award</li>
                    <li>Completed a written proposal for the initiation of a yearly Youth Retreat</li>
                    <li>Proposed the use of Children's Quarterlies in the Christian Education Ministry (CEM)</li>
                    <li>Coordinated Church in the park services</li>
                    <li>Coordinated Testimonies of the Gospel Sunday night services</li>
                </ul>
                <p>Professional Career in Canada:</p>
                <p>Chase currently serves as a Youth Services Officer with the Ministry of Child Community and Social Services (MCCSS) as a member of a multi-cultural and multi-disciplinary team providing safety, supervision, mentorship, rehabilitation and reintegration to delinquent youth. He collaborates with team members and the youth to set individualized realistic goals and create Case Management Reintegration Plans (CMRPs). He excels at modeling prosocial, interpersonal and organizational skills to engage and motivate these youth to achieve their goals.</p>
                <p>In 2021 he initiated a music program to teach the youth to play musical instruments to include drum kit, guitar, bass guitar and keyboard. His proposal was received with open arms, approved, and the musical instruments were acquired. Today these youth have the opportunity to learn and own a musical skill that they are able to use for financial gains upon their reintegration into their communities.</p>
                <p>Community Engagement:</p>
                <p>President of local Condominium Corporation (2014-2018). As the President of the Condominium Corporation Board Chase conducted reviews of the corporation’s operational, financial and legal documents/matters with his team, terminated property management and its subsidiaries, conducted a property management procurement process, acquired new property management and maintenance companies, reversed increased property maintenance fees (from $500 to $440) and the reserve fund assessment fees (from $1000 - 0) and grew the reserve fund by over 300% over the period. He chaired board meetings, communicated with residents, accountants, and contractors, had oversight of building operations, and provided conflict resolution and advice to residents and management.</p>
                <p>Summary: If elected to the board, his aim is to continue to serve the members of this congregation and the community to the best of his abilities and core competencies prayerfully with grace and humility; to reflect the mission and vision of the church and ultimately bring glory to God.</p>`
            }
        ];

        let selectedCandidates = new Set();
        let expandedBios = new Set();
        let isSubmitting = false;

        function showToast(message) {
            const toast = document.getElementById('toast');
            document.getElementById('toast-message').innerText = message;
            toast.classList.remove('opacity-0', '-translate-y-20');
            setTimeout(() => toast.classList.add('opacity-0', '-translate-y-20'), 3000);
        }

        function navigateTo(stepId) {
            document.querySelectorAll('.step-container').forEach(s => s.classList.remove('active'));
            document.getElementById(`step-${stepId}`).classList.add('active');
            window.scrollTo(0, 0);

            if (stepId === 'vote') renderCandidates();
        }

        function renderCandidates() {
                const list = document.getElementById('candidates-list');
                list.innerHTML = CANDIDATES.map(c => {
                    const isSelected = selectedCandidates.has(c.id);
                    const isExpanded = expandedBios.has(c.id);

                    return `
            <div class="candidate-card custom-transition border-2 rounded-[2rem] p-5 cursor-pointer relative overflow-hidden 
                ${isSelected ? 'selected' : 'bg-slate-900/50 border-white/5 hover:border-slate-700'}"
                onclick="toggleSelection('${c.id}')">

                <div class="flex items-start gap-4">

                    <!-- Checkbox -->
                    <div class="mt-2 w-7 h-7 rounded-full border-2 border-slate-800 flex items-center justify-center custom-transition 
                        ${isSelected ? 'bg-indigo-600 border-indigo-600' : 'bg-slate-950'}">
                        ${isSelected ? '<i data-lucide="check" class="w-4 h-4 text-white"></i>' : ''}
                    </div>

                    <!-- Main Content -->
                    <div class="flex-1">

                        <div class="flex items-center gap-4">

                            <!-- Avatar -->
                            <div class="w-14 h-14 sm:w-16 sm:h-16 rounded-2xl bg-slate-800 border-2 border-slate-700 overflow-hidden shrink-0">
                                <img src="${c.image}" class="w-full h-full object-cover"
                                    onerror="this.src='https://ui-avatars.com/api/?name=${encodeURIComponent(c.name)}&background=1e293b&color=94a3b8'">
                            </div>

                            <!-- Name + Bio Toggle -->
                            <div class="flex-1 min-w-0">
                                <h3 class="font-bold text-lg text-white leading-tight whitespace-normal sm:truncate">
                                    ${c.name}
                                </h3>

                                <button onclick="event.stopPropagation(); toggleBio('${c.id}')"
                                    class="text-indigo-400 text-xs font-bold mt-1 flex items-center gap-1 hover:text-indigo-300">
                                    ${isExpanded ? 'Hide Bio' : 'Read Biography'}
                                    <i data-lucide="${isExpanded ? 'chevron-up' : 'chevron-down'}" class="w-3 h-3"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- BIO SECTION (moved outside flex) -->
                ${isExpanded ? `
                    <div class="mt-6 w-full text-slate-400 text-sm leading-relaxed 
                        px-4 py-6 sm:px-8 sm:py-6 bg-slate-950/60 rounded-3xl 
                        border border-white/5 animate-fade-in bio-content">

                        ${c.bio}

                        <div class="mt-6 flex justify-center">
                            <button onclick="event.stopPropagation(); toggleBio('${c.id}')"
                                class="px-5 py-2 rounded-full border border-slate-700 text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-white transition-all">
                                Close Bio
                            </button>
                        </div>
                    </div>
                ` : ''}
            </div>
        `;
                }).join('');

                lucide.createIcons();
                updateControls();
            }


        function toggleSelection(id) {
            if (selectedCandidates.has(id)) {
                selectedCandidates.delete(id);
            } else {
                if (selectedCandidates.size >= 3) {
                    showToast("Maximum 3 nominees allowed");
                    return;
                }
                selectedCandidates.add(id);
            }
            renderCandidates();
        }

        function toggleBio(id) {
            if (expandedBios.has(id)) expandedBios.delete(id);
            else expandedBios.add(id);
            renderCandidates();
        }

        function updateControls() {
            const count = selectedCandidates.size;
            const btn = document.getElementById('submit-btn');
            const counter = document.getElementById('selection-counter');

            counter.innerText = `${count} / 3 Selected`;

            if (count === 3) {
                btn.disabled = false;
                btn.className = "order-1 md:order-2 flex-1 py-4 rounded-2xl font-black text-sm uppercase tracking-widest text-white transition-all border bg-indigo-600 border-indigo-500 shadow-xl shadow-indigo-600/30 hover:bg-indigo-500 flex items-center justify-center gap-2";
                btn.innerHTML = `<span>Submit Final Ballot</span>`;
            } else {
                btn.disabled = true;
                btn.className = "order-1 md:order-2 flex-1 py-4 rounded-2xl font-black text-sm uppercase tracking-widest text-white transition-all border bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed opacity-50 flex items-center justify-center gap-2";
                btn.innerHTML = `<span>Select ${3 - count} More Nominees</span>`;
            }
        }

        async function handleVoteSubmission() {
            if (selectedCandidates.size !== 3 || isSubmitting) return;

            isSubmitting = true;
            const btn = document.getElementById('submit-btn');
            btn.innerHTML = `<div class="loader w-4 h-4"></div> <span>Submitting...</span>`;
            btn.disabled = true;

            try {
                const votesToInsert = Array.from(selectedCandidates).map(id => ({ [COLUMN_NAME]: id }));
                const { error } = await supabaseClient.from(TABLE_NAME).insert(votesToInsert);

                if (error) throw error;

                navigateTo('success');
            } catch (err) {
                console.error(err);
                showToast("Connection error. Please try again.");
                isSubmitting = false;
                updateControls();
            }
        }

        // --- Admin Logic ---
        function verifyAdmin() {
            const pass = document.getElementById('admin-pass').value;
            if (pass === ADMIN_KEY) {
                document.getElementById('admin-login-view').classList.add('hidden');
                document.getElementById('admin-results-view').classList.remove('hidden');
                fetchLiveResults();
                setInterval(fetchLiveResults, 5000); // Live refresh
            } else {
                showToast("Invalid Authority Key");
            }
        }

        async function fetchLiveResults() {
            try {
                const { data, error } = await supabaseClient.from(TABLE_NAME).select(COLUMN_NAME);
                if (error) throw error;

                const tally = {};
                CANDIDATES.forEach(c => tally[c.id] = 0);
                data.forEach(v => {
                    const cid = v[COLUMN_NAME];
                    if (tally.hasOwnProperty(cid)) tally[cid]++;
                });

                const sorted = CANDIDATES.map(c => ({ ...c, count: tally[c.id] }))
                    .sort((a, b) => b.count - a.count);

                const total = data.length;
                document.getElementById('total-ballots').innerText = `${total} Total Selections`;

                const list = document.getElementById('results-list');
                list.innerHTML = sorted.map((c, i) => {
                    const percent = total > 0 ? (c.count / total * 100) : 0;
                    return `
                        <div class="bg-slate-900/40 p-5 rounded-3xl border border-white/5">
                            <div class="flex justify-between items-center mb-3">
                                <div class="flex items-center gap-3">
                                    <span class="w-6 h-6 rounded-full bg-slate-800 text-[10px] font-bold text-white flex items-center justify-center">${i + 1}</span>
                                    <span class="font-bold text-white">${c.name}</span>
                                </div>
                                <div class="text-right">
                                    <span class="text-indigo-400 font-extrabold text-xl">${c.count}</span>
                                    <span class="text-slate-500 text-[10px] font-bold uppercase ml-1">Votes</span>
                                </div>
                            </div>
                            <div class="w-full bg-slate-950 h-2 rounded-full overflow-hidden">
                                <div class="bg-indigo-500 h-full transition-all duration-1000 ease-out" style="width: ${percent}%"></div>
                            </div>
                        </div>
                    `;
                }).join('');
            } catch (err) {
                console.error("Fetch failed", err);
            }
        }

        async function clearAllData() {
            if (!confirm("Are you 100% sure? This will delete all votes permanently from Supabase.")) return;

            try {
                const { error } = await supabaseClient.from(TABLE_NAME).delete().neq(COLUMN_NAME, 'none');
                if (error) throw error;
                showToast("Database purged successfully");
                fetchLiveResults();
            } catch (err) {
                showToast("Purge failed. Check Supabase RLS policies.");
            }
        }

        window.onload = () => lucide.createIcons();
    </script>
</body>

</html>